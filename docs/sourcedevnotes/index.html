<!DOCTYPE html><html lang=zh><head><meta charset=UTF-8 /><meta name=viewport content="width=device-width, initial-scale=1.0" /><title>戈登走過去的博客</title><link type=text/css rel=stylesheet href=/main.css /><link type=text/css rel=stylesheet href=/vs.min.css /><link rel=alternate type=application/atom+xml title="戈登走過去的博客 - Atom" href=/atom.xml /><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "caac368e0b344c98a3c1d683087fbb86"}'></script></head><body><main><header><div id=headerBar>戈登走過去的博客</div><nav id=headerNav><a href=/>首页</a> <a href=/rsss>RSS</a> <a href=/about>关于戈登登</a> <a href=/donate>捐助戈登登</a> <a href=/search>搜索本博客</a> <a href=https://shimo.im/forms/WgWqrRWWjTYRDqCR/fill>留言</a></nav></header><div class=pageSection><div class=sectionTitleBox><span class=sectionTitle></span></div></div><article><h1>我的起源开发笔记</h1><div class=articleContent><time datetime=2018-11-26 class=articleDate>本文发布于公元 2018 年 11 月 26 日</time><p>其实是方便我自己复制粘贴用的（（（ 各位如果有需要就请自便吧</p><p>VMT 语句：</p><pre><code class=language-c++>UnLitGeneric
VertexlitGeneric
LightmappedGeneric

$basetexture "aaa/bbb"

$surfaceprop brick
$surfaceprop metal
$surfaceprop wood
$surfaceprop grass
$surfaceprop flesh
$surfaceprop rubber

$bumpmap 

$alphatest 1

$halflambert 1

$translucent 1

$nocull 1

$decal 1
$decalscale 0.25

$nodecal 1

$phong 1
$phongboost 1
$PhongFresnelRanges "[0 0.5 1]"
$PhongExponent 5
$lightwarptexture "models/xxx/shader"

$rimlight 1
$rimlightexponent 2
$rimlightboost .2

Proxies
{
    AnimatedTexture
    {
        animatedtexturevar $basetexture
        animatedtextureframenumvar $frame
        animatedtextureframerate 25
    }
}

//随机贴图 https://steamcommunity.com/sharedfiles/filedetails/?id=668958242
Proxies
{
    EntityRandom
    {
        scale 27.99 //这里写动态贴图的帧数减去0.01
        resultVar $frame
    }
}
</code></pre><p>QC 语句：</p><pre><code class=language-c++>$texturegroup a
{
    { "r1" }
    { "r2" }
}

$bodygroup glasses
{
    studio "glasses1.smd"
    blank
}

$modelname "prop_test.mdl"
$scale 1.0
$BodyGroup "body"
{
    studio "r.smd"
}
$staticprop
$surfaceprop wood
$cdmaterials "models/mytextures"
$sequence idle "r.smd"
$collisionmodel "phy.smd"
{
    $mass 10
    $concave
}

$IncludeModel "humans/male_shared.mdl"
$IncludeModel "humans/male_ss.mdl"
$IncludeModel "humans/male_gestures.mdl"
$IncludeModel "humans/male_postures.mdl"

$includemodel "humans/female_shared.mdl"
$includemodel "humans/female_ss.mdl"
$includemodel "humans/female_gestures.mdl"
$includemodel "humans/female_postures.mdl"

$IncludeModel "m_anm.mdl"
$includemodel "f_anm.mdl"

$IncludeModel "combine_soldier_anims.mdl"

//油桶爆炸 models/props_c17/oildrum001_explosive.mdl
$CollisionText
{
    break 
    {
        "model" "props_c17/oildrumchunk01a"
        "health" "10"
        "fadetime" "10"
        "burst" "100"
    }
    break 
    {
        "model" "props_c17/oildrumchunk01b"
        "health" "10"
        "fadetime" "10"
        "burst" "100"
    }
    break 
    {
        "model" "props_c17/oildrumchunk01c"
        "health" "10"
        "fadetime" "10"
        "burst" "100"
    }
    break 
    {
        "model" "props_c17/oildrumchunk01d"
        "health" "10"
        "fadetime" "10"
        "burst" "100"
    }
    break 
    {
        "model" "props_c17/oildrumchunk01e"
        "health" "10"
        "fadetime" "10"
        "burst" "100"
    }
    $KeyValues
    {
        prop_data 
        {
            "dmg.bullets" "1.0"
            "dmg.club" "1.0"
            "dmg.explosive" "1.0"
            "health" "20"
            "explosive_damage" "120"
            "explosive_radius" "256"
        }
        physgun_interactions 
        {
            "onfirstimpact" "break"
        }
        fire_interactions 
        {
            "flammable" "yes"
            "explosive_resist" "yes"
            "ignite" "halfhealth"
        }
    }
}

</code></pre><p>求生之路对应人物模型：</p><pre><code>Ellis    survivor_mechanic
Nick    survivor_gambler
Coach    survivor_coach
Rochelle    survivor_producer
Bill    survivor_namvet
Francis    survivor_biker
Zoey    survivor_teenangst
Louis    survivor_manager
</code></pre><p>玩家模型、NPC的GMOD LUA：</p><pre><code class=language-lua>local name = "角色名字"
player_manager.AddValidModel(name, "models/模型路径.mdl")
player_manager.AddValidHands(name, "models/模型路径.mdl", 0, "0000000")
list.Set("PlayerOptionsModel", name, "")

list.Set("NPC", "npc_" .. name .. "1", {
    Name = "好NPC名字",
    Class = "npc_citizen",
    Weapons = {"weapon_smg1", "weapon_ar2"},
    Model = "models/模型路径.mdl",
    Category = name,
    KeyValues = {citizentype = 4}
})

list.Set("NPC", "npc_" .. name .. "2", {
    Name = "坏NPC名字",
    Class = "npc_combine_s",
    Weapons = {"weapon_smg1", "weapon_ar2"},
    Model = "models/模型路径.mdl",
    Category = name,
    KeyValues = {SquadName = "overwatch", Numgrenades = 5}
})
</code></pre></div></article></main><script src=/main.js></script><script src=/highlight.min.js></script><script>(function(){let n=document.body.querySelectorAll("pre code");for(let t=0;t<n.length;t++){let i=n[t];hljs.highlightBlock(i)}})()</script></body></html>